<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contactanos</title>
    <link rel="stylesheet" href="contacoStyle.css">
</head>

<body>
    <div class="Style">
        <h1>Muchas gracias por haber visitado nuestro sitio!</h1>
        <p>Nos gustaria que deje sus datos junto a un comentario para cualquier colaboracion o para mejorar el sitio!
        </p>
    </div>
    <div class="Style">
        <div class="foot">
            <form id="form" onsubmit="return validar()" autocomplete="on">
                <label for="nombre">Nombre:</label><br>
                <input type="text" id="nombre" name="nombre"><br><br>
                <label for="apellido">Apellido:</label><br>
                <input type="text" id="apellido" name="apellido"><br><br>
                <label for="telefono">Telefono:</label><br>
                <input type="text" id="telefono"><br><br>
                <label for="mail">E-Mail:</label><br>
                <input type="text" id="mail" name="mail"><br><br>
                <label for="comentario">Comentario:</label>
                <textarea name="comentario" id="comentario" cols="30" rows="10"></textarea>
                <input type="submit" value="Enviar">
            </form>
        </div>
    </div>
    <div class="Style">
        <h2>
            <a href="../index.html">Volver..</a>
        </h2>
    </div>
    <div class="style2">
        <div id="correcto"></div>
        <div id = "mal"></div>
    </div>

    <script>
        function validar(){
            let nombre = document.getElementById("nombre");
            let apellido = document.getElementById("apellido");
            let telefono = document.getElementById("telefono");
            let mail = document.getElementById("mail");
            let comentario = document.getElementById("comentario");
            let correcto = document.getElementById("correcto");
            let sinError = true;
            let x = document.getElementById("mal");
            let emailRegex = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
            let numberEx = /^[0-9]+$/;
            let nameEx =  /^([a-zñáéíóú]+[\s]*)+$/;
            let nameEx2 = /^([A-Z]{1})/;
            x.innerHTML = "";
            let msj;
            if (nombre.value.trim() =="") {
                msj = document.createElement("li");
                msj.innerHTML = "Error: campo nombre vacio";
                x.appendChild(msj);
                sinError = false;
            }else if(!nameEx.test(nombre.value) && !nameEx2.test(nombre.value)){
                msj = document.createElement("li");
                msj.innerHTML = "Error: Escriba un nombre correcto!";
                x.appendChild(msj);
                sinError = false;
            }
            
            if (apellido.value.trim() == "") {
                msj = document.createElement("li");
                msj.innerHTML = "Error: campo apellido vacio";
                x.appendChild(msj);
                sinError = false;
            }else if(!nameEx.test(apellido.value)&& !nameEx2.test(apellido.value)){
                msj = document.createElement("li");
                msj.innerHTML = "Error: Escriba un apellido correcto!";
                x.appendChild(msj);
                sinError = false;
            }
            if (telefono.value.trim() == "") {
                msj = document.createElement("li");
                msj.innerHTML = "Error: campo telefono vacio";
                x.appendChild(msj);
                sinError = false;
            }else if(!numberEx.test(telefono.value)){
                msj = document.createElement("li");
                msj.innerHTML = "Error: ingreso letras, escriba un numero telefonico correcto!";
                x.appendChild(msj);
                sinError = false;
            }
            if (mail.value.trim() == "") {
                msj = document.createElement("li");
                msj.innerHTML = "Error: campo e-mail vacio";
                x.appendChild(msj);
                sinError = false;
            }else if (!emailRegex.test(mail.value)) {
                msj = document.createElement("li");
                msj.innerHTML = "Error: Escriba un mail correcto!";
                x.appendChild(msj);
                sinError = false;
            }
            if (comentario.value.trim() == "") {
                msj = document.createElement("li");
                msj.innerHTML = "Error: campo comentario vacio";
                x.appendChild(msj);
                sinError = false;
            }
            
            if (sinError) {
                let show = document.createElement("h3");
                show.innerHTML = "Solicitud enviada!";
                correcto.appendChild(show);
                let name = document.createElement("li");
                name.innerHTML = "Nombre: "+nombre.value;
                correcto.appendChild(name);
                let sname = document.createElement("li");
                sname.innerHTML = "Apellido: "+apellido.value;
                correcto.appendChild(sname);
                let tel = document.createElement("li");
                tel.innerHTML = "Telefono: "+telefono.value;
                correcto.appendChild(tel);
                let correo = document.createElement("li");
                correo.innerHTML = "Mail: "+mail.value;
                correcto.appendChild(correo);
                nombre.value = "";
                apellido.value = "";
                telefono.value = "";
                mail.value = " ";
                comentario.value = "";
                sinError = false;
            }
            return sinError;
        }
    </script>
</body>

</html>